# API Reference

## Configuration

_You can specify input parameters via any of the following methods._

- **GitHub Action `with`** _See "Getting Started" examples._
- **Command Line** _You can specify input parameters via command line._
- **Environment Variables** _You can specify input parameters via environment variables._
- **Configuration Override** _(link)_

## Modes

Cloud Runner can accept a parameter to run a specific mode, by default cli-build is run.

```md
cli-build
```

_runs a cloud runner build_

```md
- list-resources
```

_lists active resources_

```md
- list-worfklow
```

_lists running workflows_

```md
- watch
```

_follows logs of a running workflow_

```md
- garbage-collect
```

_runs garbage collection_

```md
- cache-push
- cache-pull
```

Cache commands to push and pull from the local caching directory. Used in cloud runner workflows.
Uses `cachePullFrom` and `cachePushTo` parameters.

```md
- hash (hash folder contents recursively)
- print-input (prints all input parameters)
```

Utility commands

```md
- remote-cli-pre-build (sets up a repository, usually before a game-ci build)
- remote-cli-post-build
```

Commands called during cloud runner workflows before/after a build.

## Main Parameters

### Git syncronization parameters

```md
- gitPrivateToken (should be a GitHub access token with permission to get repositories)
- GITHUB_REPOSITORY
- GITHUB_REF || branch || GitSHA
```

### Cloud Runner parameters

```md
- cloudRunnerBuilderPlatform
- cloudRunnerBranch
- cloudRunnerCluster - Valid options: `aws` | `k8s`
- cloudRunnerCpu
- cloudRunnerMemory
```

### Custom commands from files parameters

```md
- customStepFiles
- customHookFiles
```

### Custom commands from yaml parameters

```md
- customJob
- customJobHooks
- postBuildSteps
- preBuildSteps
```

### Configuration Override

```md
- readInputFromOverrideList
- readInputOverrideCommand
```

### Aws

```md
- awsBaseStackName
```

### K8s

```md
- kubeConfig
- kubeVolume
- kubeVolumeSize
- kubeStorageClass
```

### Caching

```md
- cacheKey
```

### Utility

```md
- cloudRunnerTests || cloudRunnerDebug
- cloudRunnerDebugTree
- cloudRunnerDebugEnv
- watchToEnd
- useSharedLargePackages
- useSharedBuilder
- useLz4Compression
```

### Retained Workspace

```md
- retainWorkspaces
- maxRetainedWorkspaces
```

### Garbage Collection

```md
- constantGarbageCollection
- garbageCollectionMaxAge
```

## Command Line Only Parameters

```md
- populateOverride
- cachePushFrom
- cachePushTo
- artifactName
- select
```

## Other Environment Variables

```md
- USE_IL2CPP (Set to `false`)
```

# External Links

All accepted parameters given here with a description:
[https://github.com/game-ci/unity-builder/blob/cloud-runner-develop/action.yml](https://github.com/game-ci/unity-builder/blob/cloud-runner-develop/action.yml)
